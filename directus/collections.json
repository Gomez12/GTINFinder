{
  "version": "1.0.0",
  "directus": "10.13.4",
  "type": "snapshot",
  "hash": "gtin-finder-collections",
  "data": {
    "collections": [
      {
        "collection": "gtins",
        "meta": {
          "collection": "gtins",
          "icon": "barcode",
          "note": "Main GTIN records with validated data",
          "display_template": "{{gtin}} - {{product_name}}"
        },
        "schema": {
          "gtin": {
            "type": "string",
            "length": 14,
            "unique": true,
            "required": true
          },
          "product_name": {
            "type": "string",
            "length": 255
          },
          "brand": {
            "type": "string",
            "length": 100
          },
          "category": {
            "type": "string",
            "length": 100
          },
          "description": {
            "type": "text"
          },
          "status": {
            "type": "string",
            "options": [
              "pending",
              "validated",
              "error"
            ],
            "default_value": "pending"
          },
          "created_at": {
            "type": "timestamp",
            "default_value": "$NOW"
          },
          "updated_at": {
            "type": "timestamp"
          }
        }
      },
      {
        "collection": "gtin_raw_data",
        "meta": {
          "collection": "gtin_raw_data",
          "icon": "data",
          "note": "Raw data from external APIs"
        },
        "schema": {
          "id": {
            "type": "integer",
            "primary_key": true,
            "auto_increment": true
          },
          "gtin": {
            "type": "string",
            "length": 14
          },
          "source": {
            "type": "string",
            "length": 50
          },
          "raw_data": {
            "type": "json"
          },
          "received_at": {
            "type": "timestamp",
            "default_value": "$NOW"
          }
        }
      },
      {
        "collection": "gtin_golden_records",
        "meta": {
          "collection": "gtin_golden_records",
          "icon": "star",
          "note": "Consolidated golden records"
        },
        "schema": {
          "id": {
            "type": "integer",
            "primary_key": true,
            "auto_increment": true
          },
          "gtin": {
            "type": "string",
            "length": 14,
            "unique": true
          },
          "product_name": {
            "type": "string",
            "length": 255
          },
          "brand": {
            "type": "string",
            "length": 100
          },
          "category": {
            "type": "string",
            "length": 100
          },
          "description": {
            "type": "text"
          },
          "confidence_score": {
            "type": "float",
            "default_value": 0.0
          },
          "sources_count": {
            "type": "integer",
            "default_value": 0
          },
          "created_at": {
            "type": "timestamp",
            "default_value": "$NOW"
          },
          "updated_at": {
            "type": "timestamp"
          }
        }
      },
      {
        "collection": "data_sources",
        "meta": {
          "collection": "data_sources",
          "icon": "source",
          "note": "Available data sources"
        },
        "schema": {
          "id": {
            "type": "integer",
            "primary_key": true,
            "auto_increment": true
          },
          "name": {
            "type": "string",
            "length": 100,
            "unique": true,
            "required": true
          },
          "api_endpoint": {
            "type": "string",
            "length": 255
          },
          "api_key_required": {
            "type": "boolean",
            "default_value": false
          },
          "rate_limit": {
            "type": "integer",
            "default_value": 100
          },
          "is_active": {
            "type": "boolean",
            "default_value": true
          },
          "created_at": {
            "type": "timestamp",
            "default_value": "$NOW"
          }
        }
      },
      {
        "collection": "data_quality_scores",
        "meta": {
          "collection": "data_quality_scores",
          "icon": "analytics",
          "note": "Data quality metrics"
        },
        "schema": {
          "id": {
            "type": "integer",
            "primary_key": true,
            "auto_increment": true
          },
          "gtin": {
            "type": "string",
            "length": 14
          },
          "source": {
            "type": "string",
            "length": 50
          },
          "completeness_score": {
            "type": "float",
            "default_value": 0.0
          },
          "accuracy_score": {
            "type": "float",
            "default_value": 0.0
          },
          "consistency_score": {
            "type": "float",
            "default_value": 0.0
          },
          "overall_score": {
            "type": "float",
            "default_value": 0.0
          },
          "evaluated_at": {
            "type": "timestamp",
            "default_value": "$NOW"
          }
        }
      }
    ]
  }
}